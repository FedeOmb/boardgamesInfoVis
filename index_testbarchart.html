<!DOCTYPE html>
<html lang="it">
    <head> 
        <style>
            /* HTML styles */
            html {
              width: 100%;
            }
            body {
              width: 100%;
              margin: 0;
              padding: 0;
              font-family: sans-serif;
              font-size: 75%;
            }
            .container {
              margin-right: auto;
              margin-left: auto;
              background-color: #fff;
              border-radius: 8px;
              box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
              padding-right: 30px;
              padding-left: 30px;
              max-width: 90vw;
              height:100%;
            }
            .tabs {
              display: flex;
              background-color: #f0f0f0;
              border-bottom: 1px solid #ddd;            
            }

            .tab-button {
              padding: 15px 25px;
              background: none;
              border: none;
              cursor: pointer;
              font-size: 16px;
              font-weight: 500;
              transition: all 0.3s ease;
              position: relative;
              outline: none;
              flex-grow: 1;
            }

            .tab-button:hover {
                background-color: #e0e0e0;
            }

            .tab-button.active {
                background-color: #fff;
                border-bottom: 3px solid #3498db;
                color: #3498db;
            }

            .tab-content {
                display: none;
                padding: 20px;
            }

            .tab-content.active {
                display: flex;
                flex-direction: row;
                flex-wrap: nowrap;
            }
            .col {
              min-height: 500px;
              height:90vh;
              background-color: #f9f9f9;
              border-radius: 6px;
              padding: 20px;
              margin-right: 20px;
              border: 1px solid #eee;
              position: relative;
            }
            .col-9 {
              flex: 1 0 70%;
              max-width: 80%;
            }
            .col-3 {
              flex: 1 0 15%;
              max-width: 20%;
            }
      
            /* SVG styles */
            .svg-container {
              width: 100%;
              height: 100%;
            }
            .controls-container {
              margin: 0 auto;
              max-width: 200px;
            }
          </style>
    </head>
    <body>
      <div class="container">
        <h1>Board Games Visualization</h1>

        <div class="tabs">
          <button class="tab-button active" onclick="openTab(event, 'tab-1')">Grafico 1</button>
          <button class="tab-button" onclick="openTab(event, 'tab-2')">Grafico 2</button>
          <button class="tab-button" onclick="openTab(event, 'tab-3')">Grafico 3</button>
        </div>

        <div class="tab-content active" id="tab-1">

          <div class="col col-9">
            <h2>Bar Chart - Visualizza la diffusione di un attributo tra i giochi in top 100</h2>
            <div class="svg-container" id="bar-chart-1">
            </div>
          </div>

          <div class="col col-3">
            <h2>Controlli filtri</h2>
            <div class="controls-container" id="controls-1">
              <br>
              <div class="select-container">
                <label for="select-attribute-1">Visualizza la diffusione di un determinato attributo nella top 100</label>
                <select id="select-attribute-1"></select>
              </div>
              <br>
              <div class="range-container">
                <label for="max-items-1">Seleziona il max num di elementi da visualizzare</label>
                <br>
                <input type="range" name="max-items-1" id="max-items-1" min="10" max="10" value="1">
                <span id="range-value-1">0</span>
                <br>
              </div>

            </div>
          </div>
        </div>

        <div class="tab-content" id="tab-2">

          <div class="col col-9">
            <h2>Bar Chart - Visualizza la distribuzione dell'età dei giochi in top 100</h2>
            <div class="svg-container" id="bar-chart-2">
            </div>
          </div>

          <div class="col col-3">
            <h2>Controlli filtri</h2>
            <div class="controls-container" id="controls-2">
              <br>
              <div>
                <br>
                <label for="max-items-2">Seleziona il max num di elementi da visualizzare</label>
                <br>
                <input type="range" name="max-items-2" id="max-items-2" min="10" max="10" value="1">
                <span id="range-value-2">0</span>
              </div>
              <br>
              <div class="radio-container">
                <input type="radio" name="order-type" value="count" checked>
                <label for="order-type">Ordina per numero di giochi</label>
                <br>
                <input type="radio" name="order-type" value="age" >
                <label for="order-type">Ordina per età</label>                
              </div>
            </div>
          </div>
        </div>

        <div class="tab-content" id="tab-3">

          <div class="col col-9">
            <h2>Grouped Bar Chart - visualizzazione delle tipologie di giochi per anno di uscita</h2>
            <div class="svg-container" id="bar-chart-3">
            </div>
          </div>

          <div class="col col-3">
            <h2>Controlli filtri</h2>
            <div class="controls-container" id="controls-3">
              
              <div>
                <br>
                <label for="max-items-3">Seleziona il max num di elementi da visualizzare</label>
                <br>
                <input type="range" name="max-items-3" id="max-items-3" min="10" max="10" value="1">
                <span id="range-value-3">0</span>
              </div>
              <br>

            </div>
          </div>
        </div>

        <script>
          function openTab(event, tabName) {
            var i, tabContent, tabButtons;
            
            // Nasconde tutti i contenuti delle schede
            tabContent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabContent.length; i++) {
                tabContent[i].style.display = "none";
            }
            
            // Rimuove la classe "active" da tutti i pulsanti
            tabButtons = document.getElementsByClassName("tab-button");
            for (i = 0; i < tabButtons.length; i++) {
                tabButtons[i].className = tabButtons[i].className.replace(" active", "");
            }
            
            // Mostra la scheda corrente e aggiunge una classe "active" al pulsante
            document.getElementById(tabName).style.display = "flex";
            event.currentTarget.className += " active";

            updateTab(tabName);
          }
        </script>


        <script src="https://d3js.org/d3.v6.min.js"></script>
        <script type="text/javascript" src="code/test_barchart.js"></script>
    </body>
</html>